---
import ThemeToggle from "../components/ThemeToggle.astro";
---

<header
  class="sticky top-0 z-50 w-full border-b border-[var(--glass-border)] bg-[var(--glass-bg)] text-[var(--color-text)] backdrop-blur-md transition-colors duration-300"
  x-data="{ open: false }"
>
  <div class="max-w-7xl mx-auto px-4 py-4 flex items-center justify-between">
    <!-- Logo -->
    <a href="/" class="flex items-center" aria-label="Volver al inicio">
      <img
        id="logo-img"
        src="/assets/img/logo/edits/iabot-webp-06.webp"
        alt="Logo IABOT"
        class="h-10 w-auto"
        loading="lazy"
        decoding="async"
        width="200"
        height="40"
      />
    </a>

    <!-- Navegación desktop -->
    <nav
      role="navigation"
      class="hidden md:flex items-center gap-6 text-sm font-medium"
      aria-label="Navegación principal"
    >
      <a href="#cursos" class="nav-link" title="Ir a la sección de Cursos"
        >Cursos</a
      >
      <a href="#proyectos" class="nav-link" title="Ir a la sección de Proyectos"
        >Proyectos</a
      >
      <a href="#cta" class="nav-link" title="Ir a la sección de Inscripción"
        >Inscripción</a
      >
      <a href="#footer" class="nav-link" title="Ir a la sección de Contacto"
        >Contacto</a
      >
    </nav>

    <!-- Controles -->
    <div class="flex items-center gap-4">
      <ThemeToggle />
      <button
        @click="open = !open"
        class="md:hidden relative w-6 h-6 flex flex-col justify-between items-center"
        aria-label="Abrir menú"
        aria-controls="mobile-menu"
        :aria-expanded="open.toString()"
      >
        <span
          class="block w-6 h-0.5 bg-current transform transition duration-300"
          :class="open ? 'rotate-45 translate-y-2' : ''"></span>
        <span
          class="block w-6 h-0.5 bg-current transition duration-300"
          :class="open ? 'opacity-0' : ''"></span>
        <span
          class="block w-6 h-0.5 bg-current transform transition duration-300"
          :class="open ? '-rotate-45 -translate-y-2' : ''"></span>
      </button>
    </div>
  </div>

  <!-- Menú móvil -->
  <nav
    id="mobile-menu"
    x-show="open"
    x-transition:enter="transition ease-out duration-200"
    x-transition:enter-start="opacity-0 -translate-y-4"
    x-transition:enter-end="opacity-100 translate-y-0"
    x-transition:leave="transition ease-in duration-150"
    x-transition:leave-start="opacity-100 translate-y-0"
    x-transition:leave-end="opacity-0 -translate-y-4"
    @click.outside="open = false"
    class="md:hidden px-4 pb-4 space-y-3 bg-[var(--glass-bg)] text-[var(--color-text)] border-t border-[var(--glass-border)]"
  >
    <a href="#cursos" @click="open = false" class="block text-base nav-link"
      >Cursos</a
    >
    <a href="#proyectos" @click="open = false" class="block text-base nav-link"
      >Proyectos</a
    >
    <a href="#cta" @click="open = false" class="block text-base nav-link"
      >Inscripción</a
    >
    <a href="#footer" @click="open = false" class="block text-base nav-link"
      >Contacto</a
    >
  </nav>
</header>
