---
// No se necesita l√≥gica del lado del servidor
---

<button
  id="toggle-theme-btn"
  type="button"
  class="p-2 rounded-full border border-neutral-300 dark:border-neutral-600 bg-white dark:bg-neutral-800 hover:bg-neutral-100 dark:hover:bg-neutral-700 transition"
  aria-label="Cambiar tema"
>
  <!-- Sol (tema claro) -->
  <svg
    xmlns="http://www.w3.org/2000/svg"
    class="w-6 h-6 dark:hidden"
    fill="none"
    viewBox="0 0 24 24"
    stroke="currentColor"
    stroke-width="2"
  >
    <path
      stroke-linecap="round"
      stroke-linejoin="round"
      d="M12 3v1m0 16v1m8.66-9h-1M4.34 12h-1m15.36 5.66l-.71-.71M6.34 6.34l-.71-.71m12.02 0l-.71.71M6.34 17.66l-.71.71M12 8a4 4 0 100 8 4 4 0 000-8z"
    ></path>
  </svg>

  <!-- Luna (tema oscuro) -->
  <svg
    xmlns="http://www.w3.org/2000/svg"
    class="w-6 h-6 hidden dark:inline"
    fill="none"
    viewBox="0 0 24 24"
    stroke="currentColor"
    stroke-width="2"
  >
    <path
      stroke-linecap="round"
      stroke-linejoin="round"
      d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
  </svg>

  <script type="module">
    document.addEventListener("DOMContentLoaded", () => {
      const root = document.documentElement;
      const storedTheme = localStorage.getItem("theme");
      const prefersDark = window.matchMedia(
        "(prefers-color-scheme: dark)"
      ).matches;

      if (storedTheme === "dark" || (!storedTheme && prefersDark)) {
        root.classList.add("dark");
      } else {
        root.classList.remove("dark");
      }

      const btn = document.getElementById("toggle-theme-btn");
      if (btn) {
        btn.addEventListener("click", () => {
          const isDark = root.classList.toggle("dark");
          localStorage.setItem("theme", isDark ? "dark" : "light");
        });
      }
    });
  </script>
</button>
