---
import BaseLayout from "../layouts/BaseLayout.astro";
---

<BaseLayout
  title="Contacto - IABOT"
  description="Comunicate con nosotros para consultas sobre nuestros cursos de robótica."
>
  <section class="section text-center">
    <h1 class="section-title mb-6">Contacto</h1>
    <p
      class="text-lg text-neutral-700 dark:text-neutral-300 mb-10 max-w-2xl mx-auto"
    >
      Si tenés alguna consulta o querés hablar directamente con el equipo de
      IABOT, completá el siguiente formulario y te responderemos a la brevedad.
    </p>

    <form
      id="contact-form"
      class="max-w-xl mx-auto text-left space-y-6 bg-white dark:bg-neutral-900 p-6 rounded-xl shadow-md border border-neutral-200 dark:border-neutral-700"
      novalidate
    >
      <div>
        <label
          for="nombre"
          class="block text-sm font-medium text-neutral-800 dark:text-neutral-200 mb-1"
          >Nombre</label
        >
        <input
          type="text"
          id="nombre"
          name="nombre"
          required
          class="w-full p-3 rounded-lg bg-neutral-100 dark:bg-neutral-800 text-neutral-900 dark:text-white border border-neutral-300 dark:border-neutral-600"
        />
        <p id="error-nombre" class="text-sm text-red-600 mt-1 hidden">
          Por favor, ingresá tu nombre.
        </p>
      </div>

      <div>
        <label
          for="email"
          class="block text-sm font-medium text-neutral-800 dark:text-neutral-200 mb-1"
          >Correo electrónico</label
        >
        <input
          type="email"
          id="email"
          name="email"
          required
          class="w-full p-3 rounded-lg bg-neutral-100 dark:bg-neutral-800 text-neutral-900 dark:text-white border border-neutral-300 dark:border-neutral-600"
        />
        <p id="error-email" class="text-sm text-red-600 mt-1 hidden">
          Ingresá un correo válido.
        </p>
      </div>

      <div>
        <label
          for="mensaje"
          class="block text-sm font-medium text-neutral-800 dark:text-neutral-200 mb-1"
          >Mensaje</label
        >
        <textarea
          id="mensaje"
          name="mensaje"
          rows="5"
          required
          class="w-full p-3 rounded-lg bg-neutral-100 dark:bg-neutral-800 text-neutral-900 dark:text-white border border-neutral-300 dark:border-neutral-600 resize-y"
        ></textarea>
        <p id="error-mensaje" class="text-sm text-red-600 mt-1 hidden">
          Contanos en qué te podemos ayudar.
        </p>
      </div>

      <div class="text-right">
        <button type="submit" class="btn">Enviar mensaje</button>
      </div>
    </form>

    <script type="module">
      const form = document.getElementById("contact-form");
      const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;

      form.addEventListener("submit", (e) => {
        e.preventDefault();

        let isValid = true;

        const nombre = form.nombre.value.trim();
        const email = form.email.value.trim();
        const mensaje = form.mensaje.value.trim();

        // Reset errores
        ["nombre", "email", "mensaje"].forEach((field) => {
          document.getElementById("error-" + field).classList.add("hidden");
        });

        if (!nombre) {
          document.getElementById("error-nombre").classList.remove("hidden");
          isValid = false;
        }

        if (!email || !emailRegex.test(email)) {
          document.getElementById("error-email").classList.remove("hidden");
          isValid = false;
        }

        if (!mensaje) {
          document.getElementById("error-mensaje").classList.remove("hidden");
          isValid = false;
        }

        if (isValid) {
          alert("Formulario enviado correctamente (simulado)");
          form.reset();
        }
      });
    </script>
  </section>
</BaseLayout>
